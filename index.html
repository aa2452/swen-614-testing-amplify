<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1101.0.min.js"></script>
<script src="https://unpkg.com/aws-amplify@4.3.7/dist/aws-amplify.min.js"></script>

<input type="file" id="fileInput" />
<button onclick="uploadFile()">Upload File</button>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amplify Environment Variables</title>
</head>
<body>
    <h1>Amplify Environment Variables</h1>
    <p>API URL: <span id="apiUrl"></span></p>
    <p>AWS Region: <span id="awsRegion"></span></p>

    <script>
        // Access Amplify environment variables
        const apiUrl = process.env.SECRET_KEY;
        const awsRegion = process.env.SECRET_KEY;

        // Display environment variables on the page
        document.getElementById('apiUrl').textContent = apiUrl;
        document.getElementById('awsRegion').textContent = awsRegion;
    </script>
</body>

<script>
	const ROOT_KEY = process.env.SECRET_KEY; 
    const SECRET_KEY = process.env.SECRET_KEY;       
        

    AWS.config.update({
        accessKeyId: ROOT_KEY,
        secretAccessKey: SECRET_KEY,
        region: 'us-east-2'
    });

    const s3 = new AWS.S3();
</script>

<script>
    function uploadFile() {
        const fileInput = document.getElementById('fileInput');
        const file = fileInput.files[0];
        const fileName = file.name;
        const fileKey = 'uploads/' + fileName; // Change the key as per your requirement

        const params = {
            Bucket: 'aa2452-swen-614-team-bucket',
            Key: fileKey,
            Body: file
        };

        s3.upload(params, function(err, data) {
            if (err) {
                console.log('Error uploading file:', err);
            } else {
                console.log('File uploaded successfully:', data.Location);
                // You can perform additional actions after successful upload
            }
        });
    }
</script>


